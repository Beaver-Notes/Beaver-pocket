{
    "sourceFile": ".github/workflows/build-and-release-android.yml",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 25,
            "patches": [
                {
                    "date": 1732176309053,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1732176981539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n       # Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '16' # Ensure this matches your Ionic project requirements\n+          node-version: '20' # Ensure this matches your Ionic project requirements\n \n       # Install dependencies\n       - name: Install dependencies\n         run: |\n"
                },
                {
                    "date": 1732202115727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n       # Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '20' # Ensure this matches your Ionic project requirements\n+          node-version: '16' # Ensure this matches your Ionic project requirements\n \n       # Install dependencies\n       - name: Install dependencies\n         run: |\n"
                },
                {
                    "date": 1732202280266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,67 +1,48 @@\n-name: Build and Pre-release Ionic Capacitor App\n+name: Build and Prerelease Ionic App\n \n on:\n-  pull_request:\n+  push:\n     branches:\n       - main\n-  workflow_dispatch:\n \n jobs:\n   build:\n-    name: Build and Pre-release\n+    name: Build and Bundle Ionic Capacitor App\n     runs-on: ubuntu-latest\n \n     steps:\n-      # Checkout repository\n-      - name: Checkout code\n-        uses: actions/checkout@v3\n+    # Step 1: Check out the code\n+    - name: Checkout Repository\n+      uses: actions/checkout@v3\n \n-      # Set up Node.js\n-      - name: Set up Node.js\n-        uses: actions/setup-node@v3\n-        with:\n-          node-version: '16' # Ensure this matches your Ionic project requirements\n+    # Step 2: Set up Node.js\n+    - name: Setup Node.js\n+      uses: actions/setup-node@v3\n+      with:\n+        node-version: '16' # Specify your Node.js version\n+        cache: 'npm'\n \n-      # Install dependencies\n-      - name: Install dependencies\n-        run: |\n-          npm ci\n-          npm install -g @ionic/cli\n+    # Step 3: Install dependencies\n+    - name: Install Dependencies\n+      run: npm install\n \n-      # Add Android SDK and Java (for Android builds)\n-      - name: Set up Java and Android\n-        uses: actions/setup-java@v3\n-        with:\n-          distribution: 'temurin'\n-          java-version: '11' # Update based on your requirements\n+    # Step 4: Build the Ionic app\n+    - name: Build Ionic App\n+      run: npm run build\n \n-      - name: Set up Android SDK\n-        uses: reactivecircus/android-emulator-runner@v2\n-        with:\n-          api-level: 31 # Match the required Android SDK version\n-          target: default\n-          arch: x86_64\n-          profile: Nexus 6P\n+    # Step 5: Generate Android APK\n+    - name: Build Android APK\n+      run: |\n+        npx cap sync android\n+        cd android\n+        ./gradlew assembleRelease\n \n-      # Build the Ionic app\n-      - name: Build Ionic App\n-        run: |\n-          ionic capacitor build android --prod\n-\n-      # Upload build artifacts (APK or AAB)\n-      - name: Archive APK\n-        uses: actions/upload-artifact@v3\n-        with:\n-          name: android-app\n-          path: android/app/build/outputs/**/*.{apk,aab}\n-\n-      # Create GitHub pre-release\n-      - name: Create GitHub Pre-release\n-        env:\n-          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n-        run: |\n-          VERSION=$(date +%Y.%m.%d)-${GITHUB_RUN_ID}\n-          gh release create \"v$VERSION\" --prerelease \\\n-            -t \"Pre-release $VERSION\" \\\n-            -n \"Automated pre-release for version $VERSION\" \\\n-            android/app/build/outputs/**/*.apk\n+    # Step 6: Upload the APK as a release asset\n+    - name: Create GitHub Release\n+      uses: ncipollo/release-action@v1\n+      with:\n+        artifacts: android/app/build/outputs/apk/release/app-release.apk\n+        token: ${{ secrets.GITHUB_TOKEN }}\n+        tag: \"v${{ github.run_number }}\"\n+        name: \"Prerelease v${{ github.run_number }}\"\n+        prerelease: true\n"
                },
                {
                    "date": 1732202432255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,48 +1,56 @@\n-name: Build and Prerelease Ionic App\n+name: Build and Prerelease Ionic Capacitor App\n \n on:\n   push:\n     branches:\n       - main\n \n jobs:\n   build:\n-    name: Build and Bundle Ionic Capacitor App\n+    name: Build and Release Ionic Capacitor App\n     runs-on: ubuntu-latest\n \n     steps:\n-    # Step 1: Check out the code\n-    - name: Checkout Repository\n-      uses: actions/checkout@v3\n+      # Step 1: Check out the repository\n+      - name: Checkout Repository\n+        uses: actions/checkout@v3\n \n-    # Step 2: Set up Node.js\n-    - name: Setup Node.js\n-      uses: actions/setup-node@v3\n-      with:\n-        node-version: '16' # Specify your Node.js version\n-        cache: 'npm'\n+      # Step 2: Set up Node.js\n+      - name: Set up Node.js\n+        uses: actions/setup-node@v3\n+        with:\n+          node-version: '16' # Specify your Node.js version\n+          cache: 'npm'\n \n-    # Step 3: Install dependencies\n-    - name: Install Dependencies\n-      run: npm install\n+      # Step 3: Install Dependencies\n+      - name: Install Dependencies\n+        run: npm install\n \n-    # Step 4: Build the Ionic app\n-    - name: Build Ionic App\n-      run: npm run build\n+      # Step 4: Build the Ionic App\n+      - name: Build Ionic App\n+        run: npm run build\n \n-    # Step 5: Generate Android APK\n-    - name: Build Android APK\n-      run: |\n-        npx cap sync android\n-        cd android\n-        ./gradlew assembleRelease\n+      # Step 5: Sync Android Platform with Capacitor\n+      - name: Sync Android\n+        run: npx cap sync android\n \n-    # Step 6: Upload the APK as a release asset\n-    - name: Create GitHub Release\n-      uses: ncipollo/release-action@v1\n-      with:\n-        artifacts: android/app/build/outputs/apk/release/app-release.apk\n-        token: ${{ secrets.GITHUB_TOKEN }}\n-        tag: \"v${{ github.run_number }}\"\n-        name: \"Prerelease v${{ github.run_number }}\"\n-        prerelease: true\n+      # Step 6: Build Android APK\n+      - name: Build Android APK\n+        run: |\n+          cd android\n+          ./gradlew assembleRelease\n+\n+      # Step 7: Extract Version from package.json\n+      - name: Extract Version\n+        id: get_version\n+        run: echo \"VERSION=$(node -p 'require(\\\"./package.json\\\").version')\" >> $GITHUB_ENV\n+\n+      # Step 8: Create GitHub Prerelease\n+      - name: Create GitHub Release\n+        uses: ncipollo/release-action@v1\n+        with:\n+          artifacts: android/app/build/outputs/apk/release/app-release.apk\n+          token: ${{ secrets.GITHUB_TOKEN }}\n+          tag: \"v${{ env.VERSION }}\"\n+          name: \"Prerelease v${{ env.VERSION }}\"\n+          prerelease: true\n"
                },
                {
                    "date": 1732205521270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,10 +18,10 @@\n       # Step 2: Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '16' # Specify your Node.js version\n-          cache: 'npm'\n+          node-version: \"20\" # Specify your Node.js version\n+          cache: \"npm\"\n \n       # Step 3: Install Dependencies\n       - name: Install Dependencies\n         run: npm install\n"
                },
                {
                    "date": 1732207360739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,35 +18,39 @@\n       # Step 2: Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: \"20\" # Specify your Node.js version\n-          cache: \"npm\"\n+          node-version: '16' # Specify your Node.js version\n+          cache: 'yarn'\n \n-      # Step 3: Install Dependencies\n+      # Step 3: Install Yarn\n+      - name: Install Yarn\n+        run: npm install --global yarn\n+\n+      # Step 4: Install Dependencies using Yarn\n       - name: Install Dependencies\n-        run: npm install\n+        run: yarn install\n \n-      # Step 4: Build the Ionic App\n+      # Step 5: Build the Ionic App\n       - name: Build Ionic App\n-        run: npm run build\n+        run: yarn build\n \n-      # Step 5: Sync Android Platform with Capacitor\n+      # Step 6: Sync Android Platform with Capacitor\n       - name: Sync Android\n         run: npx cap sync android\n \n-      # Step 6: Build Android APK\n+      # Step 7: Build Android APK\n       - name: Build Android APK\n         run: |\n           cd android\n           ./gradlew assembleRelease\n \n-      # Step 7: Extract Version from package.json\n+      # Step 8: Extract Version from package.json\n       - name: Extract Version\n         id: get_version\n         run: echo \"VERSION=$(node -p 'require(\\\"./package.json\\\").version')\" >> $GITHUB_ENV\n \n-      # Step 8: Create GitHub Prerelease\n+      # Step 9: Create GitHub Prerelease\n       - name: Create GitHub Release\n         uses: ncipollo/release-action@v1\n         with:\n           artifacts: android/app/build/outputs/apk/release/app-release.apk\n"
                },
                {
                    "date": 1732207424895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       # Step 2: Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '16' # Specify your Node.js version\n+          node-version: '20' # Specify your Node.js version\n           cache: 'yarn'\n \n       # Step 3: Install Yarn\n       - name: Install Yarn\n"
                },
                {
                    "date": 1732212152523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       # Step 2: Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '20' # Specify your Node.js version\n+          node-version: '16' # Specify your Node.js version\n           cache: 'yarn'\n \n       # Step 3: Install Yarn\n       - name: Install Yarn\n@@ -29,28 +29,36 @@\n       # Step 4: Install Dependencies using Yarn\n       - name: Install Dependencies\n         run: yarn install\n \n-      # Step 5: Build the Ionic App\n+      # Step 5: Install OpenJDK and set JAVA_HOME\n+      - name: Install OpenJDK 11 and set JAVA_HOME\n+        run: |\n+          sudo apt-get update\n+          sudo apt-get install -y openjdk-11-jdk\n+          echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n+          echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n+\n+      # Step 6: Build the Ionic App\n       - name: Build Ionic App\n         run: yarn build\n \n-      # Step 6: Sync Android Platform with Capacitor\n+      # Step 7: Sync Android Platform with Capacitor\n       - name: Sync Android\n         run: npx cap sync android\n \n-      # Step 7: Build Android APK\n+      # Step 8: Build Android APK\n       - name: Build Android APK\n         run: |\n           cd android\n           ./gradlew assembleRelease\n \n-      # Step 8: Extract Version from package.json\n+      # Step 9: Extract Version from package.json\n       - name: Extract Version\n         id: get_version\n         run: echo \"VERSION=$(node -p 'require(\\\"./package.json\\\").version')\" >> $GITHUB_ENV\n \n-      # Step 9: Create GitHub Prerelease\n+      # Step 10: Create GitHub Prerelease\n       - name: Create GitHub Release\n         uses: ncipollo/release-action@v1\n         with:\n           artifacts: android/app/build/outputs/apk/release/app-release.apk\n"
                },
                {
                    "date": 1732212274816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       # Step 2: Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '16' # Specify your Node.js version\n+          node-version: '20' # Specify your Node.js version\n           cache: 'yarn'\n \n       # Step 3: Install Yarn\n       - name: Install Yarn\n"
                },
                {
                    "date": 1732220212331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,13 +31,13 @@\n         run: yarn install\n \n       # Step 5: Install OpenJDK and set JAVA_HOME\n       - name: Install OpenJDK 11 and set JAVA_HOME\n-        run: |\n-          sudo apt-get update\n-          sudo apt-get install -y openjdk-11-jdk\n-          echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n-          echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n+       run: |\n+        apt-get update\n+        apt-get install -y openjdk-11-jdk\n+        echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n+        echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV    \n \n       # Step 6: Build the Ionic App\n       - name: Build Ionic App\n         run: yarn build\n"
                },
                {
                    "date": 1732220265315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,13 +31,13 @@\n         run: yarn install\n \n       # Step 5: Install OpenJDK and set JAVA_HOME\n       - name: Install OpenJDK 11 and set JAVA_HOME\n-       run: |\n-        apt-get update\n-        apt-get install -y openjdk-11-jdk\n-        echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n-        echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV    \n+        run: |\n+          sudo apt-get update\n+          sudo apt-get install -y openjdk-11-jdk\n+          echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n+          echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 6: Build the Ionic App\n       - name: Build Ionic App\n         run: yarn build\n"
                },
                {
                    "date": 1732220322086,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,10 +32,10 @@\n \n       # Step 5: Install OpenJDK and set JAVA_HOME\n       - name: Install OpenJDK 11 and set JAVA_HOME\n         run: |\n-          sudo apt-get update\n-          sudo apt-get install -y openjdk-11-jdk\n+          apt-get update\n+          apt-get install -y openjdk-11-jdk\n           echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 6: Build the Ionic App\n"
                },
                {
                    "date": 1732225382065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,12 +30,12 @@\n       - name: Install Dependencies\n         run: yarn install\n \n       # Step 5: Install OpenJDK and set JAVA_HOME\n-      - name: Install OpenJDK 11 and set JAVA_HOME\n+      - name: Install OpenJDK 17 and set JAVA_HOME\n         run: |\n           apt-get update\n-          apt-get install -y openjdk-11-jdk\n+          apt-get install -y openjdk-21-jdk\n           echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 6: Build the Ionic App\n"
                },
                {
                    "date": 1732259392955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,11 @@\n           cache: 'yarn'\n \n       # Step 3: Install Yarn\n       - name: Install Yarn\n-        run: npm install --global yarn\n+        run: \n+          npm install --global yarn\n+          echo \"::add-path::$(npm bin --global)\"\n \n       # Step 4: Install Dependencies using Yarn\n       - name: Install Dependencies\n         run: yarn install\n"
                },
                {
                    "date": 1732259463216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,11 +23,11 @@\n           cache: 'yarn'\n \n       # Step 3: Install Yarn\n       - name: Install Yarn\n-        run: \n+        run: |\n           npm install --global yarn\n-          echo \"::add-path::$(npm bin --global)\"\n+          echo \"::add-path::$(npm root --quiet --global)/.bin\"\n \n       # Step 4: Install Dependencies using Yarn\n       - name: Install Dependencies\n         run: yarn install\n"
                },
                {
                    "date": 1732259556439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,11 +23,9 @@\n           cache: 'yarn'\n \n       # Step 3: Install Yarn\n       - name: Install Yarn\n-        run: |\n-          npm install --global yarn\n-          echo \"::add-path::$(npm root --quiet --global)/.bin\"\n+        run: npm install --global yarn\n \n       # Step 4: Install Dependencies using Yarn\n       - name: Install Dependencies\n         run: yarn install\n"
                },
                {
                    "date": 1732259668950,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,4 @@\n-name: Build and Prerelease Ionic Capacitor App\n-\n on:\n   push:\n     branches:\n       - main\n@@ -18,47 +16,46 @@\n       # Step 2: Set up Node.js\n       - name: Set up Node.js\n         uses: actions/setup-node@v3\n         with:\n-          node-version: '20' # Specify your Node.js version\n-          cache: 'yarn'\n+          node-version: '20.x'\n \n-      # Step 3: Install Yarn\n-      - name: Install Yarn\n-        run: npm install --global yarn\n+      # Step 3: Install Dependencies using Yarn\n+      - name: Run install\n+        uses: borales/actions-yarn@v4\n+        with:\n+          cmd: install\n \n-      # Step 4: Install Dependencies using Yarn\n-      - name: Install Dependencies\n-        run: yarn install\n-\n-      # Step 5: Install OpenJDK and set JAVA_HOME\n+      # Step 4: Install OpenJDK and set JAVA_HOME\n       - name: Install OpenJDK 17 and set JAVA_HOME\n         run: |\n           apt-get update\n           apt-get install -y openjdk-21-jdk\n           echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n-      # Step 6: Build the Ionic App\n-      - name: Build Ionic App\n-        run: yarn build\n+      # Step 5: Build the Ionic App\n+      - name: Run build\n+        uses: borales/actions-yarn@v4\n+        with:\n+          cmd: build\n \n-      # Step 7: Sync Android Platform with Capacitor\n+      # Step 6: Sync Android Platform with Capacitor\n       - name: Sync Android\n         run: npx cap sync android\n \n-      # Step 8: Build Android APK\n+      # Step 7: Build Android APK\n       - name: Build Android APK\n         run: |\n           cd android\n           ./gradlew assembleRelease\n \n-      # Step 9: Extract Version from package.json\n+      # Step 8: Extract Version from package.json\n       - name: Extract Version\n         id: get_version\n         run: echo \"VERSION=$(node -p 'require(\\\"./package.json\\\").version')\" >> $GITHUB_ENV\n \n-      # Step 10: Create GitHub Prerelease\n+      # Step 9: Create GitHub Prerelease\n       - name: Create GitHub Release\n         uses: ncipollo/release-action@v1\n         with:\n           artifacts: android/app/build/outputs/apk/release/app-release.apk\n"
                },
                {
                    "date": 1732259756002,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n           node-version: '20.x'\n \n       # Step 3: Install Dependencies using Yarn\n       - name: Run install\n-        uses: borales/actions-yarn@v4\n+        uses: borales/actions-yarn\n         with:\n           cmd: install\n \n       # Step 4: Install OpenJDK and set JAVA_HOME\n"
                },
                {
                    "date": 1732259768183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n           node-version: '20.x'\n \n       # Step 3: Install Dependencies using Yarn\n       - name: Run install\n-        uses: borales/actions-yarn\n+        uses: borales/actions-yarn@v4\n         with:\n           cmd: install\n \n       # Step 4: Install OpenJDK and set JAVA_HOME\n"
                },
                {
                    "date": 1732259825572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n           node-version: '20.x'\n \n       # Step 3: Install Dependencies using Yarn\n       - name: Run install\n-        uses: borales/actions-yarn@v4\n+        uses: borales/actions-yarn@v4.2.0\n         with:\n           cmd: install\n \n       # Step 4: Install OpenJDK and set JAVA_HOME\n"
                },
                {
                    "date": 1732259910461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 5: Build the Ionic App\n       - name: Run build\n-        uses: borales/actions-yarn@v4\n+        uses: borales/actions-yarn@v4.2.0\n         with:\n           cmd: build\n \n       # Step 6: Sync Android Platform with Capacitor\n"
                },
                {
                    "date": 1732261418588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n           node-version: '20.x'\n \n       # Step 3: Install Dependencies using Yarn\n       - name: Run install\n-        uses: borales/actions-yarn@v4.2.0\n+        uses: borales/actions-yarn@v4\n         with:\n           cmd: install\n \n       # Step 4: Install OpenJDK and set JAVA_HOME\n@@ -34,9 +34,9 @@\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 5: Build the Ionic App\n       - name: Run build\n-        uses: borales/actions-yarn@v4.2.0\n+        uses: borales/actions-yarn@v4\n         with:\n           cmd: build\n \n       # Step 6: Sync Android Platform with Capacitor\n@@ -47,8 +47,10 @@\n       - name: Build Android APK\n         run: |\n           cd android\n           ./gradlew assembleRelease\n+        env:\n+          GOOGLE_CLIENT_ID: ${{ secrets.GOOGLE_CLIENT_ID }}\n \n       # Step 8: Extract Version from package.json\n       - name: Extract Version\n         id: get_version\n"
                },
                {
                    "date": 1732261650976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n           node-version: '20.x'\n \n       # Step 3: Install Dependencies using Yarn\n       - name: Run install\n-        uses: borales/actions-yarn@v4\n+        uses: borales/actions-yarn@v4.2.1\n         with:\n           cmd: install\n \n       # Step 4: Install OpenJDK and set JAVA_HOME\n@@ -34,9 +34,9 @@\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 5: Build the Ionic App\n       - name: Run build\n-        uses: borales/actions-yarn@v4\n+        uses: borales/actions-yarn@v4.2.1\n         with:\n           cmd: build\n \n       # Step 6: Sync Android Platform with Capacitor\n"
                },
                {
                    "date": 1732261665797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n           node-version: '20.x'\n \n       # Step 3: Install Dependencies using Yarn\n       - name: Run install\n-        uses: borales/actions-yarn@v4.2.1\n+        uses: borales/actions-yarn@v4.2.0\n         with:\n           cmd: install\n \n       # Step 4: Install OpenJDK and set JAVA_HOME\n@@ -34,9 +34,9 @@\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n       # Step 5: Build the Ionic App\n       - name: Run build\n-        uses: borales/actions-yarn@v4.2.1\n+        uses: borales/actions-yarn@v4.2.0\n         with:\n           cmd: build\n \n       # Step 6: Sync Android Platform with Capacitor\n"
                },
                {
                    "date": 1732264169802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,32 +32,37 @@\n           apt-get install -y openjdk-21-jdk\n           echo \"JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac))))\" >> $GITHUB_ENV\n           echo \"PATH=$JAVA_HOME/bin:$PATH\" >> $GITHUB_ENV\n \n-      # Step 5: Build the Ionic App\n+      # Step 5: Create gradle.properties File\n+      - name: Create gradle.properties\n+        run: |\n+          mkdir -p android/app\n+          echo \"GOOGLE_CLIENT_ID=<Your_Google_Client_ID>\" > android/app/gradle.properties\n+          echo \"ONEDRIVE_SHA1=<Your_OneDrive_SHA1>\" >> android/app/gradle.properties\n+\n+      # Step 6: Build the Ionic App\n       - name: Run build\n         uses: borales/actions-yarn@v4.2.0\n         with:\n           cmd: build\n \n-      # Step 6: Sync Android Platform with Capacitor\n+      # Step 7: Sync Android Platform with Capacitor\n       - name: Sync Android\n         run: npx cap sync android\n \n-      # Step 7: Build Android APK\n+      # Step 8: Build Android APK\n       - name: Build Android APK\n         run: |\n           cd android\n           ./gradlew assembleRelease\n-        env:\n-          GOOGLE_CLIENT_ID: ${{ secrets.GOOGLE_CLIENT_ID }}\n \n-      # Step 8: Extract Version from package.json\n+      # Step 9: Extract Version from package.json\n       - name: Extract Version\n         id: get_version\n         run: echo \"VERSION=$(node -p 'require(\\\"./package.json\\\").version')\" >> $GITHUB_ENV\n \n-      # Step 9: Create GitHub Prerelease\n+      # Step 10: Create GitHub Prerelease\n       - name: Create GitHub Release\n         uses: ncipollo/release-action@v1\n         with:\n           artifacts: android/app/build/outputs/apk/release/app-release.apk\n"
                }
            ],
            "date": 1732176309053,
            "name": "Commit-0",
            "content": "name: Build and Pre-release Ionic Capacitor App\n\non:\n  pull_request:\n    branches:\n      - main\n  workflow_dispatch:\n\njobs:\n  build:\n    name: Build and Pre-release\n    runs-on: ubuntu-latest\n\n    steps:\n      # Checkout repository\n      - name: Checkout code\n        uses: actions/checkout@v3\n\n      # Set up Node.js\n      - name: Set up Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '16' # Ensure this matches your Ionic project requirements\n\n      # Install dependencies\n      - name: Install dependencies\n        run: |\n          npm ci\n          npm install -g @ionic/cli\n\n      # Add Android SDK and Java (for Android builds)\n      - name: Set up Java and Android\n        uses: actions/setup-java@v3\n        with:\n          distribution: 'temurin'\n          java-version: '11' # Update based on your requirements\n\n      - name: Set up Android SDK\n        uses: reactivecircus/android-emulator-runner@v2\n        with:\n          api-level: 31 # Match the required Android SDK version\n          target: default\n          arch: x86_64\n          profile: Nexus 6P\n\n      # Build the Ionic app\n      - name: Build Ionic App\n        run: |\n          ionic capacitor build android --prod\n\n      # Upload build artifacts (APK or AAB)\n      - name: Archive APK\n        uses: actions/upload-artifact@v3\n        with:\n          name: android-app\n          path: android/app/build/outputs/**/*.{apk,aab}\n\n      # Create GitHub pre-release\n      - name: Create GitHub Pre-release\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        run: |\n          VERSION=$(date +%Y.%m.%d)-${GITHUB_RUN_ID}\n          gh release create \"v$VERSION\" --prerelease \\\n            -t \"Pre-release $VERSION\" \\\n            -n \"Automated pre-release for version $VERSION\" \\\n            android/app/build/outputs/**/*.apk\n"
        }
    ]
}